<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestão de Clientes Solares</title>
    
    <!-- React CDN - Production versions -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Babel for JSX transformation -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- XLSX library for Excel import -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>

    <!-- Chart.js for PDF graphs -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    
    <!-- jsPDF for PDF generation -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    
    <!-- html2canvas for capturing HTML content -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

    <!-- Tailwind CSS Compiled -->
    <link rel="stylesheet" href="../output.css">

    <!-- Firebase ES Modules -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-app.js";
        import { getAuth, signInAnonymously, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-auth.js";
        import { getFirestore, collection, doc, addDoc, setDoc, onSnapshot, query, serverTimestamp, updateDoc, where, getDocs, deleteDoc } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";

        // Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyBkzz0CflvDNXcoa30-_fSIwD62SBF29SQ",
            authDomain: "hubmonitoramento.firebaseapp.com",
            projectId: "hubmonitoramento",
            storageBucket: "hubmonitoramento.appspot.com",
            messagingSenderId: "828068813283",
            appId: "1:828068813283:web:f2a3f64efeff8a7f88e8d6",
            measurementId: "G-QF0ETTB8Y2"
        };

        // Disponibiliza as funções do Firebase globalmente para o React
        window.firebase = {
            app: initializeApp(firebaseConfig),
            getAuth,
            signInAnonymously,
            onAuthStateChanged,
            getFirestore,
            collection,
            doc,
            addDoc,
            setDoc,
            onSnapshot,
            query,
            serverTimestamp,
            updateDoc,
            where,
            getDocs,
            deleteDoc
        };
    </script>

    <style>
        /* Estilos personalizados para complementar o Tailwind */
        body {
            font-family: 'Inter', sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        .tab-active {
            border-color: #4f46e5;
            color: #4f46e5;
            font-weight: 600;
        }
    </style>
</head>
<body class="bg-gray-100">
    <div id="root"></div>

    <!-- Load all React components -->
    <script type="text/babel" src="./components/Tab.jsx"></script>
    <script type="text/babel" src="./components/StatCard.jsx"></script>
    <script type="text/babel" src="./components/Dashboard.jsx"></script>
    <script type="text/babel" src="./components/FilterButton.jsx"></script>
    <script type="text/babel" src="./components/AdvancedFilter.jsx"></script>
    <script type="text/babel" src="./components/ClientCard.jsx"></script>

    <script type="text/babel" src="./components/ConsumerUnitHistory.jsx"></script>

    <script type="text/babel" src="./components/Report.jsx"></script>

    <script type="text/babel" src="./components/ClientDetailModal.jsx"></script>
    <script type="text/babel" src="./components/ClientView.jsx"></script>
    <script type="text/babel" src="./components/ImportView.jsx"></script>
    <script type="text/babel" src="./App.jsx"></script>
    <script type="text/babel" src="./index.js"></script>
</body>
</html>